<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="./katex-fonts.html">
<link rel="import" href="./katex-style.html">
<script src="./katex.min.js"></script>

<dom-module id="d-katex">
  <template>
    <style include="katex-style"></style>
    <style>
      :host {
        display: inline;
      }
    </style>

    <span id="container"></span>
  </template>
  <script>
    (function() {
      'use strict';

      class DKatex extends Polymer.Element {
        static get is() { return 'd-katex'; }
        static get properties() {
          return {
            tex: {
              type: String,
              observer: '_redraw'
            }
          };
        }

        _redraw(tex) {
          window.katex.render(tex, this.$.container, {
            displayMode: false
          });
        }
      }
      customElements.define(DKatex.is, DKatex);
    })();
  </script>
</dom-module>
